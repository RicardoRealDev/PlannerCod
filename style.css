/* ==========================================================
   TEMA (variáveis)
   ========================================================== */
:root{
  --fundo:#0b1020;
  --fundo-2:#060b16;
  --cartao:#0f1629;
  --cartao-2:#0b1220;
  --borda:#1f2937;

  --texto:#E6EAF2;
  --texto-2:#B7C2D9;
  --suave:#9FB0CD;

  --realce:#22c55e;
  --realce-2:#38bdf8;
  --perigo:#ef4444;

  --raio:14px;
  --sombra: 0 10px 30px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.02) inset;
  --trans:.2s ease;
}

/* ==========================================================
   RESET BÁSICO
   ========================================================== */
*{
  box-sizing: border-box;
}

html,
body{
  height: 100%;
}

body{
  margin: 0;
  font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--texto);
  background:
    radial-gradient(1200px 600px at 20% -10%, #101a33 0%, transparent 60%),
    linear-gradient(180deg, var(--fundo), var(--fundo-2));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ==========================================================
   LAYOUT PRINCIPAL
   ========================================================== */
.container{
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px;
}

/* ==========================================================
   CABEÇALHO / TÍTULO / CONTROLES
   ========================================================== */
.cabecalho{
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 18px;
}

.titulo{
  display: flex;
  align-items: center;
  gap: 12px;
}

.titulo .logo{
  font-size: 28px;
  line-height: 1;
  filter: drop-shadow(0 3px 8px rgba(0,0,0,.5));
}

.titulo strong{
  display: block;
  font-size: 20px;
  letter-spacing: .2px;
}

.titulo small{
  display: block;
  color: var(--suave);
  font-weight: 500;
}

.controles{
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  background: linear-gradient(180deg, #0e1627, #0a1322);
  border: 1px solid var(--borda);
  border-radius: 999px;
  padding: 8px 10px;
  box-shadow: var(--sombra);
}

.grupo-controles{
  display: flex;
  align-items: center;
  gap: 8px;
}

.grupo-busca{
  min-width: 260px;
}

.rotulo{
  color: var(--suave);
  font-size: 12px;
  font-weight: 600;
  margin-right: 6px;
}

/* ==========================================================
   BOTÕES
   ========================================================== */
.botao{
  appearance: none;
  border: 1px solid var(--borda);
  border-radius: 999px;
  background: linear-gradient(180deg,#141a2b,#0d1425);
  color: var(--texto);
  padding: 9px 12px;
  cursor: pointer;
  transition: transform .06s ease, border-color var(--trans), background var(--trans), box-shadow var(--trans);
  box-shadow: 0 0 0 0 rgba(56,189,248,0);
}

.botao:hover{
  transform: translateY(-1px);
  border-color: #2a3a56;
}

.botao:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(56,189,248,.35);
}

.botao.primario{
  background: linear-gradient(180deg,#1a2b1d,#0f2013);
  border-color: #1e3a2c;
}

.botao.destaque{
  background: linear-gradient(180deg,#0e1b2a,#0a1320);
  border-color: #1f3960;
}

.botao.perigo{
  background: linear-gradient(180deg,#2a1212,#1c0c0c);
  border-color: #4b1616;
}

.botao.fechar{
  border-radius: 10px;
}

/* ==========================================================
   ENTRADAS (input/select/textarea)
   ========================================================== */
.entrada,
select,
textarea{
  width: 100%;
  background: var(--cartao-2);
  color: var(--texto);
  border: 1px solid var(--borda);
  border-radius: 999px;
  padding: 10px 12px;
  transition: border var(--trans), box-shadow var(--trans);
}

.entrada:focus,
select:focus,
textarea:focus{
  outline: none;
  border-color: #2a3a56;
  box-shadow: 0 0 0 3px rgba(56,189,248,.15);
}

.busca{
  padding-left: 14px;
}

/* ==========================================================
   PAINEL / BARRA DA SEMANA
   ========================================================== */
.painel{
  border: 1px solid var(--borda);
  border-radius: var(--raio);
  background: linear-gradient(180deg, #0e1627, #0a1020);
  box-shadow: var(--sombra);
  overflow: hidden;
}

.barra-semana{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--borda);
  position: sticky;
  top: 0;
  backdrop-filter: blur(6px);
}

.semana-info{
  display: flex;
  align-items: baseline;
  gap: 8px;
  font-weight: 700;
}

.suave{
  color: var(--suave);
  font-size: 12px;
}

.rotulo-semana{
  font-size: 16px;
  letter-spacing: .2px;
}

.pilula{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border: 1px solid var(--borda);
  border-radius: 999px;
  background: linear-gradient(180deg, #111a2f, #0c1424);
  color: var(--texto-2);
}

/* ==========================================================
   GRADE SEMANAL (colunas/dias)
   ========================================================== */
.grade{
  display: grid;
  gap: 12px;
  padding: 14px;
  grid-template-columns: repeat(7, 1fr);
}

@media (max-width:1100px){
  .grade{ grid-template-columns: repeat(4, 1fr); }
}

@media (max-width:780px){
  .grade{ grid-template-columns: repeat(2, 1fr); }
}

@media (max-width:520px){
  .grade{ grid-template-columns: 1fr; }
}

.coluna{
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-height: 260px;
}

.coluna header{
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 6px 0 6px;
}

.nome-dia{
  font-size: 13px;
  color: var(--suave);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .6px;
}

.data-dia{
  font-weight: 700;
}

.lista-solta{
  min-height: 220px;
  padding: 8px;
  border: 1px dashed #2b3b5b;
  border-radius: 12px;
  background: linear-gradient(180deg, #0d1528, #0b1220);
  transition: border var(--trans), background var(--trans);
}

.lista-solta:hover{
  border-color: #3a4f7a;
  background: linear-gradient(180deg, #0f1a33, #0c1426);
}

.vazio{
  color: #7d8aaa;
  font-size: 13px;
  text-align: center;
  padding: 18px;
}

/* ==========================================================
   CARDS DE TAREFA
   (o script.js cria .tarefa, .linha, .etiqueta e prioridades)
   ========================================================== */
.tarefa{
  background: linear-gradient(180deg, #101a34, #0b1426);
  border: 1px solid #24314d;
  border-radius: 12px;
  padding: 10px;
  display: grid;
  gap: 6px;
  box-shadow: var(--sombra);
}

.tarefa.concluida{
  opacity: .6;
  text-decoration: line-through;
}

.linha{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.etiqueta{
    font-size: 13px;      /* maior fonte */
    padding: 6px 12px;    /* mais espaço interno */
    border-radius: 999px;
    border: 1px solid #2a3650;
    color: #a9bad8;
}

.prioridade-1{ border-color:#2a4b36; color:#b7f0c7; }
.prioridade-2{ border-color:#4b3a2a; color:#ffd7a6; }
.prioridade-3{ border-color:#4b2a2a; color:#ffb3b3; }

/* Selo de tarefa vencida */
.rotulo-atrasada{
  border: 1px solid #5b2f2f;
  color: #ffb3b3;
  border-radius: 999px;
  padding: 4px 8px;
  font-size: 11px;
  background: linear-gradient(180deg,#2a1515,#1a0e0e);
}

/* ==========================================================
   RODAPÉ DO PAINEL
   ========================================================== */
.painel-rodape{
  border-top: 1px solid var(--borda);
  padding: 12px 16px;
}

.ajuda{
  font-size: 12px;
  color: #aab7cf;
  margin: 0;
}

/* ==========================================================
   SEÇÃO: TAREFAS CONCLUÍDAS
   ========================================================== */
.secao-concluidas{
  padding: 14px;
  border-top: 1px solid var(--borda);
  background: linear-gradient(180deg,#0e1526,#0a1120);
}

.concluidas-cabecalho{
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.concluidas-titulo{
  margin: 0;
  font-size: 14px;
  color: var(--texto-2);
  letter-spacing: .3px;
}

.contador{
  border: 1px solid var(--borda);
  border-radius: 999px;
  padding: 4px 10px;
  color: var(--suave);
}

.lista-concluidas{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

@media (max-width:920px){
  .lista-concluidas{ grid-template-columns: repeat(2, 1fr); }
}

@media (max-width:560px){
  .lista-concluidas{ grid-template-columns: 1fr; }
}

/* ==========================================================
   MODAL (dialog)
   ========================================================== */
dialog{
  border: none;
  border-radius: 16px;
  padding: 0;
  background: linear-gradient(180deg, #10192b, #0b1220);
  color: var(--texto);
  width: min(620px, 92vw);
  box-shadow: 0 30px 80px rgba(0,0,0,.6);
}

dialog::backdrop{
  background: rgba(0,0,0,.55);
}

.formulario{
  display: flex;
  flex-direction: column;
}

.modal-cabecalho{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  border-bottom: 1px solid var(--borda);
}

.modal-corpo{
  padding: 16px;
  display: grid;
  gap: 12px;
}

.modal-rodape{
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  padding: 12px 16px;
  border-top: 1px solid var(--borda);
}

.campo{
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.linha-form{
  display: grid;
  gap: 12px;
}

.duas-colunas{
  grid-template-columns: 1fr 1fr;
}

@media (max-width:560px){
  .duas-colunas{ grid-template-columns: 1fr; }
}

/* ==========================================================
   ACESSIBILIDADE / AJUSTES FINOS
   ========================================================== */
input[type="checkbox"]{
  inline-size: 18px;
  block-size: 18px;
}

label,
.rotulo{
  user-select: none;
}
/* ==========================================================
   Animação: letras em fade-in (sem cursor)
   ========================================================== */
.digitar-letra{
  display: inline-block;
  opacity: 0;
  transform: translateY(6px);
  filter: blur(3px);
  animation: letraIn .6s forwards;
  /* o delay é definido no JS por letra */
}

@keyframes letraIn{
  to{
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}
.titulo {
  display: flex;
  align-items: center;
  gap: 12px; /* espaço entre ícone e texto */
}

.icone {
  border-radius: 30px;
}

/* respeita acessibilidade */
@media (prefers-reduced-motion: reduce){
  .digitar-letra{
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
  }
}
/* ==========================================================
   BLOCOS DE NOTAS
   ========================================================== */
.blocos-notas{
  margin-top: 22px;
  border: 1px solid var(--borda);
  border-radius: var(--raio);
  background: linear-gradient(180deg, #0e1627, #0a1020);
  box-shadow: var(--sombra);
  padding: 14px;
}

.notas-cabecalho{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 4px 2px 12px;
  border-bottom: 1px solid var(--borda);
}

.notas-titulo{
  margin: 0;
  font-size: 16px;
  letter-spacing: .2px;
}

.lista-blocos{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-top: 14px;
}
@media (max-width: 1000px){ .lista-blocos{ grid-template-columns: repeat(2,1fr); } }
@media (max-width: 620px){ .lista-blocos{ grid-template-columns: 1fr; } }

.bloco{
  background: linear-gradient(180deg, #101a34, #0b1426);
  border: 1px solid #24314d;
  border-radius: 12px;
  padding: 12px;
  display: grid;
  gap: 10px;
}

.bloco-topo{
  display: flex; align-items: center; gap: 8px; justify-content: space-between;
}
.titulo-bloco{
  background: transparent;
  border: 1px dashed #2b3b5b;
  border-radius: 10px;
  padding: 8px 10px;
  color: var(--texto);
  font-weight: 600;
  width: 100%;
}
.titulo-bloco:focus{ outline: none; border-color:#3a4f7a; }

.bloco-nova-nota{
  display: grid; grid-template-columns: 1fr auto; gap: 8px;
}
.input-nota{
  border-radius: 10px;
}

.notas-itens{
  list-style: none; margin: 0; padding: 0; display: grid; gap: 8px;
}
.item-nota{
  display: grid; gap: 6px;
  background: linear-gradient(180deg,#0f1a33,#0c1426);
  border: 1px solid #26324a;
  border-radius: 10px;
  padding: 10px;
}
.item-nota .meta{
  font-size: 11px; color: var(--suave);
  display: flex; justify-content: space-between; gap: 6px;
}

.item-acoes{
  display: flex; gap: 6px; justify-content: flex-end;
}
/* input para nova nota (auto-expansível) */
.input-nota-textarea{
  resize: none;
  line-height: 1.6;
  max-height: 28rem;       /* <- barreira máx ao digitar */
  overflow: auto;          /* rola depois do limite */
}

/* bloco de prévia da nota */
.item-nota{
  display: grid; gap: 6px;
  background: linear-gradient(180deg,#0f1a33,#0c1426);
  border: 1px solid #26324a;
  border-radius: 12px;
  padding: 12px;
  cursor: pointer;
  transition: transform .06s ease, border-color .2s ease, background .2s ease;
}
.item-nota:hover{ transform: translateY(-1px); border-color:#3a4f7a; }

.item-nota .titulo{
  font-weight: 700;
  margin: 0;
}

/* prévia do conteúdo: mostra 3 linhas, como a lista do Notas */
.item-nota .preview{
  color: var(--texto-2);
  display: -webkit-box;
  
  -webkit-box-orient: vertical;
  overflow: hidden;
  white-space: pre-wrap;
  line-height: 1.6;
}

/* meta (data/ações) */
.item-nota .meta{
  font-size: 11px; color: var(--suave);
  display: flex; justify-content: space-between; gap: 6px;
}

/* modal da nota (texto grande confortável) */
#modalNota .modal-corpo{
  display: grid; gap: 10px;
}
#modalNota #notaTitulo{
  font-weight: 700;
}
#modalNota .nota-textarea{
  resize: none;
  min-height: 40vh;
  line-height: 1.7;
}

/* acessibilidade: reduz movimento */
@media (prefers-reduced-motion: reduce){
  .item-nota:hover{ transform: none; }
}
.input-nota-textarea{
  display: block;
  width: 100%;
  resize: none;             /* o JS controla a altura */
  line-height: 1.6;
  overflow: hidden;         /* esconde enquanto cresce */
  max-height: 28rem;        /* barreira máxima */
  white-space: pre-wrap;    /* respeita quebras e quebra automático */
  word-break: break-word;   /* quebra palavras muito longas */
}
/* Compacto (limitado a 6 linhas) */
.item-nota .preview {
  display: -webkit-box;
  -webkit-line-clamp: 6;        /* limite de linhas */
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: anywhere;
}

/* Expandido (mostra tudo) */
.item-nota.expandida .preview {
  display: block;       /* ignora o clamp */
  overflow: visible;
  max-height: none;
}